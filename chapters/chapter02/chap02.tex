%
% File: chap02.tex
% Author: Henry Semenenko
% Description: Background chapter
%
% Set the graphics path to find figures
\graphicspath{{./chapters/chapter02/fig02/}}

\let\textcircled=\pgftextcircled
\chapter{Background}
\label{chap:background}

%=======
\section{Cast of Characters}

Before we begin, we will need to introduce the cast of characters that will each have parts to play throughout this thesis. While the exact reasons behind each persons' role is unclear, we can be sure that they will follow their roles without question. 

\brisred{Alice}, for reasons that we will not discuss here, would like to send a message to Bob. The particular message is unknown publicly and she would like it to remain as such. While she has never met Bob, she wants to make sure that the message is actually being sent to Bob.

\brisred{Bob} wants to receive and also read the message from Alice, whom he has never met, whilst also being sure that the message is, in fact, from Alice. He also wants to ensure that the message he received is a faithful representation of the one Alice sent and has not been modified along the way.

\brisred{Charlie} is a mutual acquaintance of Alice and Bob (despite having never met either of them) who volunteers to act as a mediator for their communication. His specific role will depend on exactly how Alice and Bob are communicating and he is often not required beyond moral support. While he is not actively trying to sabotage Alice and Bob's communication, neither is he actively protecting them.

\brisred{Eve} is a very nosey individual who listens to all public communication between Alice and Bob. She is intent on reading the message sent by Alice and while very persistent, she is not very inventive so will not put very much effort into deciphering the message. Eve is often mistaken as Mallory, as they have similar intents.

\brisred{Mallory} would also like to know what Alice has sent to Bob, but will go to more extreme measures to discover their secrets. She has unlimited resources available (confined only by the laws of physics) and will use all possible methods within her power to crack the hidden message. 

The reader is encouraged to picture their own cast of characters in their mind's eye to bring this story to life.

\section{Cryptography}
\label{sec1:crypto}

Cryptography is the process of taking a message (\brisred{plaintext}) and translating it into a something that is indecipherable (\brisred{ciphertext}). Importantly, it also encompasses the reverse process of taking a ciphertext and returning the original message. 

The idea of obscuring messages from third-party onlookers dates back (as far as we can tell) to ancient Egypt and has played an important role in the world for the last 2 millennia. 

The convenience of being able to share thoughts through written methods came with an immediate compromise to security.

\subsection{Symmetric Key Cryptography}

Two parties, typically Alice and Bob, share a secret key that can be used to encrypt messages. The method of encryption is, generally, publicly known. However, it will be hard to decrypt messages without the secret key.

These ciphers have been widely used through history. However, with modern technology, they are not deemed to be secure. We will see in section \ref{sec1:cryptanalysis}

\subsection{Monoalphabetic Ciphers}

The simplest ciphers are those that permute the alphabet and are known as {\color{bristol-red} monoalphabetic ciphers}. The symmetric key in these 	ciphers is the permutation used. There are two well known cases of monoalphabetic ciphers which we will present here. 

\subsubsection*{Caesar Cipher}

The Caesar cipher one of the oldest that was well documented being used. Seutonius wrote that Julius Caesar used the cipher to send important information to the military. 

By assigning values to each letter of the alphabet (`a' = 0, `b' = 1, etc.), the encryption is done by `adding' the secret key, $k$ to each letter modulo 26. For example, when $k = 5$ we get the encoding

\begin{center}
\begin{tabular}{l l}%{@{}l@{\ }l}
	Plain:  &\quad\texttt{ a b c \ldots x y z} \\ 
	Cipher: &\quad\texttt{ F G H \ldots C D E} \\
\end{tabular}
\end{center}

Deciphering the ciphertext is as simple as `subtracting' $k$ from each letter and reading out the plaintext message.

As there are only 25 possibly keys, a brute force attack on this kind of cipher is fairly trivial. It is easy to loop over each choice, especially with modern computers, until the plaintext is revealed.

\subsubsection*{Affine Cipher}

A slightly more complex cipher is the affine cipher. This is still a mapping from the alphabet to itself (i.e. monoalphabetic) but the key now contains two numbers. Firstly

\subsection{Polyalphabetic Ciphers}



\subsubsection*{Vigen\`{e}re Cipher}

This cipher was developed by Giovan Battista Bellaso in 1553 \cite{} but is attributed to Blaise de Vigen\`{e}re \cite{}. The key is a word or phrase which can be `added' to the plaintext to get the cipher text.

\subsubsection*{One-Time Pad}

A polyalphabetic cipher where the key is as long as the message. If the key is truly random, each message is equally likely given a cipher text. Therefore, it is unbreakable provided that the key is completely secure.

The problem then becomes how to distribute the keys.

\subsection{Block Ciphers}

The first block encryption was the \ac{des} cipher which was developed in the early 70's \cite{}. Upon its introduction, there was criticism that the NSA deliberately weakened the security of the cipher \cite{Diffie1977}. It remained a standard in cryptography until the late 1990's when it was demonstrated that it was insecure against modern computers \cite{}.

The \ac{aes} cipher is by far the most used encryption method used today which superseded \ac{des} in the early 2000's \cite{}. It is generally thought that \ac{aes} is secure against attacks by a quantum computer. However, much like security using classical computers, there is no proof.

Typically, 256 bit keys are exchanged using public key cryptography which are then used in a block cipher. 

\subsection{Public Key Cryptography}

A more practical method of encrypting data is to employ an asymmetric scheme which allows many people to send encrypted messages to a single person. For example, customers of a bank may want an easy way to send encrypted messages about their finances.

These ciphers include what is know as a {\color{bristol-red} trapdoor function}. These functions are such that they are easy to perform one way, but are difficult to inverse without a private key. 

Generally, public key ciphers are computationally intensive. Therefore, they are generally used to exchange keys which can then be used in a block cipher, such as \ac{aes}.

\subsubsection*{RSA}

The RSA algorithm is named after it's inventors Ron Rivest, Adi Shamir, and Leonard Adleman\footnote{It was later discovered that the RSA method had been known by Clifford Cocks during his time at GCHQ \cite{}.} and was released in 1977 \cite{}. Suppose Alice would like to send a message to Bob. The algorithm goes something like:

\begin{enumerate}
	\item Bob needs to first choose a secret key. He selects to large (typically 2048 bit) prime numbers, $p$ and $q$, and calculates $n = p \times q$.
	\item He then chooses some $d < (p-1)(q-1)$ which is coprime\footnote{Two numbers are coprime if they share no common factors greater than 1.} to $(p-1)(q-1)$.
	\item Finally, Bob calculates the inverse, $e$, of $d$ modulo $(p-1)(q-1)$ and publishes the public key $N$ and $e$ whilst keeping $p,q$ and $d$ private.
	\item Alice breaks her message into integers $m < N$ and encrypts as $c = m^d \mathrm{ mod } N$. The ciphertext $c$ can now be sent to Bob.
	\item To decrypt Alice's message, Bob computes $m = c^d$ and the communication is complete. 
\end{enumerate}   

The proof that $m \equiv c^d \equiv m^{d\times e}$ requires a few theorems from number theory. 

Although this algorithm outlines the general understanding of RSA encryption, it is not actually secure as it stands. The problem is that it is essentially a monoalphabetic cipher i.e. each $m$ modulo $N$ will always encode to the same ciphertext $c$. Implementations used introduce some randomness to make it secure.


\subsubsection*{Diffe-Hellman}

The Diffe-Hellman cipher isn't used to share messages, but instead distributes keys between Alice and Bob in a secure way that can then be used in a symmetric key cipher. It is attributed to Whit Diffe and Martin E. Hellman\footnote{Malcolm J. Williamson had already discovered the Diffe-Hellman key exchange whilst working at GCHQ but it remained classified.} after they discovered it in 1976 \cite{}.

\begin{enumerate}
	\item Alice and Bob agree on a large prime number, $p$, and a primitive root, $a$. These numbers can actually be publicly available.
	\item They both also secretly choose integers $d_A$ and $d_B$.
	\item Alice sends her public key, $q_A = a^{d_A}$, to Bob, and Bob send his public key, $q_B = a^{d_B}$ to Alice.
	\item On receiving a public key, Alice and Bob compute $k = q_B^{d_A} = a^{d_A\times d_B}$ and $k = q_A^{d_B} = a^{d_A\times d_B}$, respectively.
	\item Alice and Bob now share the secret key $k$.
\end{enumerate}

The information that is available to Eve are the numbers $p, a, q_{A}$ and $q_{B}$. Without being able to solve the discrete logarithm she is unable to break the code. 

\subsection{Authentication}

Until this point, we have discussed how Alice and Bob and create ciphertext that would deceive Eve. However, we also need to be aware that Mallory is more cunning than Eve. 

As we have mentioned before, Alice and Bob have never met. However, they would like to be sure that they are talking to each other. If they don't ensure they are talking to each other, Mallory can perform a \ac{mitm} attack. Mallory is able to intercept messages sent from Alice to Bob. To Alice, she will imitate Bob, and to Bob, she will imitate Alice. By exchanging keys with both, she can fool Alice and Bob into sending their secret messages to her without ever knowing.

As we will see later, authentication will play a crucial role in a \ac{QKD} system.

\subsection{Cryptanalysis}
\label{sec1:cryptanalysis}

This is the research into how encryption can be broken. Simple ciphers can easily be broken by comparing the ciphertext to the percentage of each letter used. As \texttt{`e'} is the most common letter in the English language, it follows that if a monoalphabetic cipher is used, then the most common letter in a passage is likely to be decoded to \texttt{`e'}.

\section{Quantum Theory}

At the turn of the 20\textsuperscript{th}, physics was built upon Newtonian mechanics, Maxwell's equations and statistical mechanics. 

\subsection{Linear Algebra}

To be able to introduce quantum theory, we first need to introduce some linear algebra which provides much of the language of quantum mechanics.

\subsection{Quantum Mechanics}

Quantum mechanics can be seen as a generalised probability theory and was born out of mathematics. The ideas create a framework to describe physical systems which rests on four postulates:

\begin{itemize}
	\item[] \textbf{Postulate 1:} The state defined the quantum system
	\item[] \textbf{Postulate 2:} The state evolves in time
	\item[] \textbf{Postulate 3:} Measurements of quantum systems
	\item[] \textbf{Postulate 4:} System can be combined into composite systems
\end{itemize}

\subsubsection{No-Cloning Theorem}

A fundamental theorem in quantum mechanics is the {\color{bristol-red} no-cloning theorem} which will also underpin the security of \ac{QKD}. The general principle of the theorem states that there is no physical process that copies, or clones, an arbitrary quantum state. We can state this more formally:

\begin{theorem}
	 The no-cloning theorem states that there is no quantum channel, $\mathcal{E}$, from $M(\mathbb{C}^d)$ to $M(\mathbb{C}^d) \otimes M(\mathbb{C}^d)$ such that
	 \begin{equation*}
	 	\mathcal{E}(\ket{\psi}\bra{\psi}) = \ket{\psi}\bra{\psi} \otimes \ket{\psi}\bra{\psi}
	 \end{equation*}
	 for all states $\ket{\psi} \in \mathbb{C}^d$.
\end{theorem}


\subsection{Quantum Photonics}

Fock states

Coherent states are very useful and are given by

\begin{equation}
	\ket{\alpha} = \mathrm{e}^{-\frac{|\alpha|^2}{2}} \sum_{n=0}^\infty \frac{\alpha^n}{\sqrt{n}} \ket{n} 
\end{equation}

\subsection{Quantum Information}

Exploiting quantum mechanical processes gives rise to a new information theory called {\textcolor{bristol-red} quantum information}. Using quantum phenomena, we introduce quantum bits (qubits) as a generalisation of the bits that are typically used in classical computing.

\subsubsection{Time-bin Encoding}

For communication protocols, we will find it useful to encode information using time and phase of quantum states as it is generally less susceptible to fluctuations in real-world fibres.

\subsection{Quantum Computing}

To motivate the introduction of quantum-secure communication, we will introduce some concepts and protocols in quantum computing. While quantum computing has been a big motivator for moving to new encryption, we still have no assurances that the trap-door functions we rely on for security are secure even against classical computers.

Shor's algorithm efficiently factors composite numbers into their prime factors \cite{shor1994}. Both RSA and Diffie-Hellman are vulnerable to attacks from a quantum computer using Shor's algorithm. The estimated number of physical qubits needed to factor RSA-2048 has reduced drastically in recent years from 1 billion \cite{mosca2018, fowler2012} to 20 million \cite{gidney2019}. While the task is still daunting, it is more reasonable.

Grover's algorithm could also be used to search through keys in a block cipher protocol. However, the speed-up is only $\sqrt{n}$ which has been proven as optimal on a quantum computer \cite{Bennent1997} . Therefore, the same security in a post-quantum world can be achieved by doubling the key length i.e. moving from 128 bit to 256 bit AES.

\section{Quantum Key Distribution}

\Acl{QKD} is a fundamentally new method of key exchange by exploiting quantum mechanics to ensure security that is guaranteed by the laws of physics. It comes under the umbrella of \brisred{quantum safe} cryptography and, together with \brisred{post-quantum} cryptography, will form a crucial part of future global networks.

Unlike key exchange protocols (such as those discussed in section \ref{sec1:crypto}), it does not rely on assumed mathematically hard trapdoor functions. Instead, the security is based on the no-cloning theorem and 

There are many different ways that information can be encoded on photons. This had led to quite a few different protocols. Here we will discuss 

The resources available to the two parties, Alice and Bob, are a quantum communication channel that can be used to send quantum states and an authenticated, public classical channel. Of course, we will need to be aware that Eve and Mallory are listening and trying to gain valuable secret information.

\subsection{Discrete-Variable}

The first ways that it was conceived that information could be encoded on photons was using orthogonal states to represent 0 or 1. For example, one could use the vertical and horizontal polarisations of a photon where diagonal and anti-diagonal could be used to encode superpositions. 

A more practical method of encoding information when intending to use fibre optics to transmit the photons is a time-bin encoding. Now the timing and relative phase information between two pulses gives us a complete encoding of all quantum states. Provided that the two time-bins are closely spaced they won't be as affected by fluctuations in the fibre.

\subsubsection*{BB84}

The first \ac{QKD} protocol that was developed was the BB84 protocol, named after its inventors: Bennett and Brassard \cite{BB84}. The protocol stemmed from an earlier idea of quantum money \cite{quantum_money}.

This protocol is typically referred to as {\color{bristol-red}prepared-and-measure}. Alice and Bob play complementary roles. Alice {\color{bristol-red}prepares} a quantum state which she sends to Bob who {\color{bristol-red}measures} the state in a predefined way. 

There are many other prepares and measure protocols which have been developed over the years such as \ac{cow} \cite{COW-QKD} and \ac{dps} \cite{DPS-QKD}.

\subsubsection*{E91}

Independently of the development of BB84, another protocol was developed by Ekert called E91 \cite{E91}. The protocol took advantage of the correlations of entangled photons and realised that by distributing two entangled photons between Alice and Bob meant that they could share a secret key. While it could be argues that this could be considered a prepare-and-measure scheme, we distinguish it so as to describe the use of entangled states.

\subsection{Continuous-Variable}

More recently there has been an interest in \ac{cvqkd} due to the compatibility with current telecomms equipments. The states are encoded in quadrature space and measured using homodyne receivers, much like how classical information is transmitter.

There are still some questions about the security of \ac{cvqkd} and the practicality of the post-processing requirements. Unlike in \ac{dvqkd} where only successful measurements need to be analyse, each potential event needs to be analysed. This leads to big overheads during the error correction stages of the protocol.

\subsection{Hacking}

While \ac{QKD} is often claimed to be ``perfectly secure'' or ``unhackable'', this is only true under certain assumptions.  Mallory, however, is quite determined to gain any knowledge of the secret key. As the systems exist in the real world, the security of a key exchange is only as good as the security model. However, it is challenging to completely model every part of a system. This leaves side-channels, where sensitive information is leaked through uncharacterised channels such as sound or temperature.

The first demonstration of \ac{QKD} by Bennett and Brassard was flawed due to polarisation dependent sounds from the power supplies. Brassard noted that their key exchange was ``perfectly secure against any eavesdropper who happened to be deaf'' \cite{Brassard2005}. 

Since then, there have been numerous demonstrations that \ac{QKD} system are insecure under real world condition. These have demonstrated vulnerabilities in all parts of both the transmitters and receivers: transmitter modulation \cite{Gisin2006}. 

One of the most vulnerable parts of a \ac{QKD} system are the detectors. Due to their complexity, they have been exposed to many attacks which have allows an attacker to be in complete control of a key exchange \cite{Makarov2006, Gerhardt2011a, Lydersen2010a, Lydersen2010b, Lydersen2011, Sauge2011, Makarov2009, Wiechers2011}.

It has even been demonstrated that Bell violations can be experimentally faked \cite{Gerhardt2011b}.

It is possible to develop methods to counter certain attacks \cite{Lydersen2010c, Yuan2010}. However, verifying the security and continually patch new exploits and vulnerabilities will be impractical for a quantum secured network.

\subsection{Device-Independence}

To remove potential attacks on \ac{QKD} systems, protocols have been developed to relieve some of the assumptions required for security in a key exchange. \Ac{diqkd}  \cite{Acin2007, Barrett2005, Mayers1998}. 

Creating accurate models for equipment is particularly challenging. By removing assumptions about their operation, full characterisation is no longer required.

Fully \ac{diqkd} is practically challenging due to the requirements of the equipment. \ac{MDI} can relieve assumptions about the detector device and is possible with current technology \cite{mdi-qkd}, as we will see in chapters \ref{chap:mdiqkd} and \ref{chap:node}. 

\section{Integrated Photonic Circuits}

On the route to a scalable technology, we will need to find a platform which allows for many devices to be made without an exponentially increase in resources. Integrated optics is not a new idea and has been considered for more than half a century \cite{miller1969}. However, the techniques will need to be adapted to ensure compatibility with quantum information processing.

\Acp{pic} are still widely being research and although there are many commercial applications there are also many challenges before they become mass producible. Packing, the process of electrically and optically connecting a \ac{pic}, is still a highly manual process and typically each \ac{pic} package will need custom built. We will see in chapter \ref{chap:laser-seeding} how packaging problems can limit \ac{pic} operation.

In the search for a platform for \ac{QKD} protocols, we will need to define certain criteria which will need to be met.

\begin{itemize}
	\item High speed modulation
	\item Creation of quantum light
	\item Detectors
\end{itemize}

In this section, we will introduce two platforms for photonic integration: \Ac{InP} and Silicon.

\subsection{Indium Phosphide}

One of the more recent advances in integrated photonics is from III-V materials which offer certain benefits for \acp{pic}, especially for communication purposes. In this section, we will introduce the \acl{InP} platform and describe some of the components that we will find useful for the remainder of the thesis.

\subsubsection*{Lasers}

As \ac{InP} has a direct band gap it is possible to monolithically integrate lasers onto the devices. 

Multi quantum well structures in \ac{InP} mean that we can create lasers on chip.

We can make either \ac{DBR} or \ac{dfb} lasers in \ac{InP} with very competitive linewidths and mW power into fibre \cite{jeppix}. An example spectrum is show in 

\subsubsection*{Thermo-optic Modulation}

Very stable phase modulation can be achieved with thermo-optic effects. By heating the material we can change the refractive index and induce a phase.

The modulation that can be achieved is relatively slow as it is reliant on heating effects. Typically, the modulation has a bandwidth of KHz. 

Thermal management can become an issue if too many \acp{topm} are used on a chip and this can also introduce crosstalk between modulators. This can cause issues with calibration of \acp{pic}.

\subsubsection*{Electro-optic Modulation}

A \ac{qcse} gives rise to high speed electro-optic modulation of up to \SI{40}{GHz} \cite{jeppix}.

High-speed modulation can also be achieved through current injection into the material to change the refractive index. 

\subsubsection*{Mach-Zehnder Interferometers}

Combining \acp{eopm}, acp{topm} and \acp{mmi} we can create on-chip \acp{mzi} which can be used for very fast routing, intensity modulation and phase encoding. 

The layout is shown in figure \ref{fig:mzi}

\subsection{Silicon}

Silicon is ubiquitous in the world today and powers everything from watches to supercomputers. The advances that have been made in the trillion dollar semiconductor industry have made silicon a hugely successful platform for quantum photonics. With a band gap of \SI{\sim 1100}{nm}, we can also leverage the telecommunications industry to create low-loss \acl{pic}. However, as it has an indirect band gap, it has been challenging to develop efficient light sources on-chip \cite{}. While efforts have been made to create integrated lasers and amplifiers, their performances don't match those of other integrated approaches, such as III-V materials.

The high index contrast in a \ac{soi} device means that very compact devices with small bend radii are possible.

Coupling can be done with grating couplers meaning that coupling light on and off chip isn't limited to the edges.

It is not possible to realise \ac{eopm} in silicon as there is no $\chi^{(2)}$ non-linearity because of the centrosymmetry of the structure. High-speed modulation can be achieved through current injection but the phase dependent losses limit their performance \cite{} or the symmetry can be broken by introducing strain such as depositing a silicon nitride thin film.

\subsubsection*{CMOS Compatibility}

One of the major advantages of the silicon platform is the potential for integration for control electronics on the same device as the photonics. This could facilitate creating transmitter and receiver devices which have all of the photonic and electrical components for a key exchange. 

\subsubsection*{Integrated Detectors}

An important part of any communication protocol is the detection of states. As \ac{QKD} will typically be concerned with single photon states (or close to) the efficiency of detection will be crucial. The losses associated with coupling on and off of integrated devices are a big problem. By fabricating detectors onto the waveguides we gain a few benefits.

Moving the detectors on-chip removes the coupling losses and the high confinement in waveguides means a strong interaction between photons and the detectors. This also means that superconducting nanowires can be made shorter which reduces the jitter and dead times.

\subsection{Hybrid Integration}

More recently, there have been effects to hybridise \acp{pic} to create devices which exploit the benefits of multiple platforms. 

For example, hybrids of an \ac{InP} laser and Si ring filters to make a laser device with a linewidth of \SI{290}{Hz} \cite{Fan2017}. \ac{InP} lasers have also been directly coupled to silicon devices for \ac{QKD} transmission \cite{Agnesi2019}.

While \ac{InP} offers many appealing optical properties, control through integrated electronics is desirable to create a scalable \ac{pic} platform. There are two ways that could create hybrid \ac{InP}-Si devices. 

Heterogeneous integrated can be a achieved by wafer bonding an \ac{InP} \ac{pic} to either a silicon photonics chip or a \ac{cmos} control chip \cite{jeppix}. The bonded devices can then be further processed on a wafer scale.

\Ac{imos} aims to introduce an \ac{InP} membrane onto a silicon wafer to provide efficient optic-electronic integration \cite{jeppix, IMOS}. The \ac{imos} platform has been demonstrated with some basis building blocks.

There are also efforts to develop cross-platform electronic integration between III-V materials and Silicon \cite{}. 

\section{Summary}

In this background chapter we have introduced important cryptographic techniques, quantum theory and integrated photonics that will form the foundation for the remainder of this thesis.

%=========================================================